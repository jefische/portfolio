---
import BaseLayout from "../../layouts/BaseLayout.astro";
import HorizontalCard from "../../components/HorizontalCard.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths({ paginate }) {
  const items = await getCollection("projects");
  items.sort((a, b) => b.data.updatedDate.valueOf() - a.data.updatedDate.valueOf());
  return paginate(items, { pageSize: 10 });
}
const { page } = Astro.props;
---

<BaseLayout title="Project" sideBarActiveItemID="projects">
  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Vanilla JS</div>
  </div>
  <ul>
    {
      page.data.map((item) => (
        <>
          <HorizontalCard
            title={item.data.title}
            img={item.data.heroImage}
            desc={item.data.description}
            badge={item.data.badge}
            details={item.data.details}
            tags={item.data.tags}
            url={"/projects/" + item.slug}
            custom_link={item.data.custom_link}
            custom_link_label={item.data.custom_link_label}
          />
          <div class="divider my-0" />
        </>
      ))
    }
  </ul>
</BaseLayout>
